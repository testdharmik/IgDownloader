document.addEventListener("DOMContentLoaded",function(){if("IntersectionObserver"in window){var a=document.querySelectorAll(".lazy");var b=new IntersectionObserver(function(d,e){d.forEach(function(c){c.isIntersecting&&(c=c.target,c.src=c.dataset.src,c.classList.remove("lazy"),b.unobserve(c))})});a.forEach(function(d){b.observe(d)})}else{var f=function(){g&&clearTimeout(g);g=setTimeout(function(){var d=window.pageYOffset;a.forEach(function(e){e.offsetTop<window.innerHeight+d&&(e.src=e.dataset.src,e.classList.remove("lazy"))});0===a.length&&(document.removeEventListener("scroll",f),window.removeEventListener("resize",f),window.removeEventListener("orientationChange",f))},20)},g;a=document.querySelectorAll(".lazy");document.addEventListener("scroll",f);window.addEventListener("resize",f);window.addEventListener("orientationChange",f)}});var siteUrl=WPURLS.siteurl,translations=LANG_STRINGS,autoFetch=!1,executed=!1,elm;document.getElementById("downloadBtn")&&document.getElementById("downloadBtn").addEventListener("click",clickDownload);window.addEventListener("hashchange",function(){url()},!1);url();function clickDownload(a){var b=document.getElementById("url").value,f=document.getElementById("token").value;if(!isEmpty(b)&&isValidURL(b)){executed=!0;hideAlert();var g=new Headers;g.append("Content-Type","application/x-www-form-urlencoded");var d=new URLSearchParams;d.append("url",b);d.append("token",f);f={method:"POST",headers:g,body:d,redirect:"follow"};showLoader();removeHash();window.location.replace("#url="+b);var e;fetch(siteUrl+"/wp-json/aio-dl/video-data/",f).then(function(c){e=c.status;return c.text()}).then(function(c){c=JSON.parse(c);void 0===c.error?showResult(c):showAlert(c.error)})["catch"](function(c){showAlert(e+" "+c)})}else showAlert(translations.enterValidUrl);a.preventDefault()}var input=document.getElementById("url");input&&input.addEventListener("keyup",function(a){13===a.keyCode&&(clickDownload(),a.preventDefault())});function url(){if(-1<window.location.href.indexOf("#url=")&&!1===executed){var a=window.location.href.match(RegExp("#url=(.+)",""))[1],b=document.getElementById("token").value;document.getElementById("url").value=a;document.getElementById("header").scrollIntoView();autoFetch&&""!==b&&""!==a&&!executed&&(clickDownload(),executed=!0)}}function isValidURL(a){elm||(elm=document.createElement("input"),elm.setAttribute("type","url"));elm.value=a;return elm.validity.valid}
function isEmpty(a){return!a||0===a.length}function showLoader(){document.getElementById("url").style.display="none";document.getElementById("downloadBtn").style.display="none";document.getElementById("pasteBtn").style.display="none";var a=document.createElement("img");a.src=siteUrl+"/wp-content/themes/aiodl-default/assets/loader.svg";a.className="img-fluid w-25 mx-auto";a.id="loader";document.getElementById("download-form").appendChild(a)}
function hideLoader(){document.getElementById("url").style.display="";document.getElementById("downloadBtn").style.display="";document.getElementById("pasteBtn").style.display="";null!==document.getElementById("loader")&&document.getElementById("loader").remove()}function showAlert(a){var b=document.getElementById("alert");b.innerHTML=a;b.style.display="";setTimeout(hideAlert,5E3);hideLoader()}function hideAlert(){var a=document.getElementById("alert");a.innerHTML="";a.style.display="none"}
function removeHash(){history.pushState("",document.title,window.location.pathname+window.location.search)}
function showResult(a){hideLoader();var b='<div class="container"> <div class="row mb-0"> <div class="col-12 mb-10 mb-lg-0"> <h2 class="mt-8 mb-0 text-center">{{title}} <small class="text-muted" id="videoDuration">{{duration}}</small></h2> <div class="row text-center"> <div class="col-md-4 col-sm-12 mt-4"> <img class="position-relative img-fluid rounded w-100" style="object-fit: cover;z-index:-1" src="{{thumbnail}}" alt="{{title}}" title="{{title}}"> </div><div class="col-md-8 col-sm-12 mt-4 p-0">{{links}}</div> </div> </div> <div class="row mb-n6 py-6 d-flex align-items-start text-center"> <div id="share-buttons"> <p class="lead share-text">'+translations.share+
'</p> <a title="Facebook" href="{{facebook_share_link}}" class="btn btn-social btn-fill btn-facebook mx-1" target="_blank">Facebook</a><a title="Twitter" href="{{twitter_share_link}}" class="btn btn-social btn-fill btn-twitter mx-1" target="_blank">Twitter</a><a title="Whatsapp" href="{{whatsapp_share_link}}" class="btn btn-social btn-fill btn-whatsapp mx-1" target="_blank">Whatsapp</a><a title="Pinterest" href="{{pinterest_share_link}}" class="btn btn-social btn-fill btn-pinterest mx-1" target="_blank">Pinterest</a><a title="Tumblr" href="{{tumblr_share_link}}" class="btn btn-social btn-fill btn-tumblr mx-1" target="_blank">Tumblr</a><a title="Reddit" href="{{reddit_share_link}}" class="btn btn-social btn-fill btn-reddit mx-1" target="_blank">Reddit</a><a title="QR Code" href="{{qr_share_link}}" class="btn btn-social btn-fill btn-qr mx-1" target="_blank">QR Code</a></div></div></div></div>',f="",g=0;if("undefined"===typeof a.medias)a.error?showAlert(a.error):showAlert("No media found.");else{a.medias.forEach(function(e){if(null!==e.url){var c="jpg"===e.extension||!0===e.videoAvailable&&!0===e.audioAvailable?'<a href="{{url}}" class="btn btn-success btn-sq btn-dl text-uppercase mx-1 my-1" target="_blank"><strong>{{quality}}</strong><br>{{icon}}{{type}}<br>({{size}})</a>':e.quality.includes("kbps")?'<a href="{{url}}" class="btn btn-danger btn-sq btn-dl text-uppercase  mx-1 my-1" target="_blank"><strong>{{quality}}</strong><br>{{icon}}{{type}}<br>({{size}})</a>':'<a href="{{url}}" class="btn btn-info btn-sq btn-dl text-uppercase mx-1 my-1" target="_blank"><strong>{{quality}}</strong><br>{{icon}}{{type}}<br>({{size}})</a>';var h="jpg"===e.extension?'<svg xmlns="http://www.w3.org/2000/svg" height="1rem" fill="white" viewBox="0 0 550.801 550.8"><path d="M515.828 61.201H34.972C15.659 61.201 0 76.859 0 96.172V454.63c0 19.312 15.659 34.97 34.972 34.97h480.856c19.314 0 34.973-15.658 34.973-34.971V96.172c0-19.313-15.658-34.971-34.973-34.971zm0 34.971V350.51l-68.92-62.66c-10.359-9.416-26.289-9.04-36.186.866l-69.752 69.741-137.532-164.278c-10.396-12.415-29.438-12.537-39.99-.271L34.972 343.219V96.172h480.856zm-148.627 91.8c0-26.561 21.523-48.086 48.084-48.086 26.562 0 48.086 21.525 48.086 48.086s-21.523 48.085-48.086 48.085c-26.56.001-48.084-21.524-48.084-48.085z"/></svg> ':!0===e.videoAvailable&&!1===e.audioAvailable?'<svg xmlns="http://www.w3.org/2000/svg" height="1rem" fill="white" viewBox="0 0 448.075 448.075"><path d="M352.021 16.075c0-6.08-3.52-11.84-8.96-14.4-5.76-2.88-12.16-1.92-16.96 1.92l-141.76 112.96 167.68 167.68V16.075zM443.349 420.747l-416-416c-6.24-6.24-16.384-6.24-22.624 0s-6.24 16.384 0 22.624l100.672 100.704h-9.376c-9.92 0-18.56 4.48-24.32 11.52-4.8 5.44-7.68 12.8-7.68 20.48v128c0 17.6 14.4 32 32 32h74.24l155.84 124.48c2.88 2.24 6.4 3.52 9.92 3.52 2.24 0 4.8-.64 7.04-1.6 5.44-2.56 8.96-8.32 8.96-14.4v-57.376l68.672 68.672c3.136 3.136 7.232 4.704 11.328 4.704s8.192-1.568 11.328-4.672c6.24-6.272 6.24-16.384 0-22.656z"/></svg> ':e.quality.includes("kbps")?'<svg xmlns="http://www.w3.org/2000/svg" height="1rem" fill="white" viewBox="0 0 415.963 415.963"><path d="M328.712 264.539c12.928-21.632 21.504-48.992 23.168-76.064 1.056-17.376-2.816-35.616-11.2-52.768-13.152-26.944-35.744-42.08-57.568-56.704-16.288-10.912-31.68-21.216-42.56-35.936l-1.952-2.624c-6.432-8.64-13.696-18.432-14.848-26.656-1.152-8.32-8.704-14.24-16.96-13.76a15.957 15.957 0 00-14.88 15.936v285.12c-13.408-8.128-29.92-13.12-48-13.12-44.096 0-80 28.704-80 64s35.904 64 80 64 80-28.704 80-64V165.467c24.032 9.184 63.36 32.576 74.176 87.2-2.016 2.976-3.936 6.176-6.176 8.736-5.856 6.624-5.216 16.736 1.44 22.56 6.592 5.888 16.704 5.184 22.56-1.44 4.288-4.864 8.096-10.56 11.744-16.512.384-.448.737-.928 1.056-1.472z"/></svg> ':'<svg xmlns="http://www.w3.org/2000/svg" height="1rem" fill="white" viewBox="0 0 467.968 467.968"><path d="M264.704 96.512H51.2c-28.16 0-51.2 23.04-51.2 51.2v172.544c0 28.16 23.04 51.2 51.2 51.2h213.504c28.16 0 51.2-23.04 51.2-51.2V147.712c0-28.672-23.04-51.2-51.2-51.2zM430.08 124.672c-3.072.512-6.144 2.048-8.704 3.584l-79.872 46.08V293.12l80.384 46.08c14.848 8.704 33.28 3.584 41.984-11.264 2.56-4.608 4.096-9.728 4.096-15.36V154.368c0-18.944-17.92-34.304-37.888-29.696z"/></svg> ';c=c.replace(RegExp("{{quality}}","g"),e.quality);c=c.replace(RegExp("{{type}}","g"),e.extension);c=c.replace(RegExp("{{icon}}","g"),h);c=c.replace(RegExp("{{size}}","g"),e.formattedSize);e=siteUrl+"/wp-content/plugins/aio-video-downloader/download.php?source="+a.source+"&media="+btoa(g);a.sid&&(e+="&sid="+a.sid);c=c.replace(RegExp("{{url}}","g"),e);f=f.concat(c);g++}});b=b.replace(RegExp("{{title}}","g"),a.title);b=b.replace(RegExp("{{thumbnail}}","g"),a.thumbnail);b=b.replace(RegExp("{{duration}}","g"),a.duration);b=b.replace(RegExp("{{links}}","g"),f);var d=window.location.href;b=b.replace(RegExp("{{facebook_share_link}}","g"),encodeURI("https://www.facebook.com/sharer.php?u="+d));b=b.replace(RegExp("{{twitter_share_link}}","g"),encodeURI("https://twitter.com/intent/tweet?url="+d+"&text=Download "+a.title));b=b.replace(RegExp("{{whatsapp_share_link}}","g"),encodeURI("whatsapp://send?text=Download "+a.title+" "+d));b=b.replace(RegExp("{{pinterest_share_link}}","g"),encodeURI("http://pinterest.com/pin/create/link/?url="+d));b=b.replace(RegExp("{{tumblr_share_link}}","g"),encodeURI("https://www.tumblr.com/widgets/share/tool?canonicalUrl="+d+"&title="+a.title));b=b.replace(RegExp("{{reddit_share_link}}","g"),encodeURI("https://reddit.com/submit?url="+d+"&title="+a.title));b=b.replace(RegExp("{{qr_share_link}}","g"),encodeURI("https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl="+d));document.getElementById("result").innerHTML=b;null===a.duration&&null!==document.getElementById("videoDuration")&&document.getElementById("videoDuration").remove();document.getElementById("result").style.display="";document.getElementById("ad-area-2").scrollIntoView()}}document.getElementById("pasteBtn")&&document.getElementById("pasteBtn").addEventListener("click",function(a){a=document.getElementById("pasteBtn");var b=document.getElementById("url");a.innerHTML===translations.clear?(b.value="",a.innerHTML="Paste"):navigator.clipboard.readText().then(function(f){return b.value=f},a.innerHTML=translations.clear)});document.addEventListener("DOMContentLoaded",function(){var a,b=document.querySelectorAll(".navbar-burger"),f=document.querySelectorAll(".navbar-menu");if(b.length&&f.length)for(a=0;a<b.length;a++)b[a].addEventListener("click",function(){for(var d=0;d<f.length;d++)f[d].classList.toggle("d-none")});b=document.querySelectorAll(".navbar-close");var g=document.querySelectorAll(".navbar-backdrop");if(b.length)for(a=0;a<b.length;a++)b[a].addEventListener("click",function(){for(var d=0;d<f.length;d++)f[d].classList.toggle("d-none")});if(g.length)for(a=0;a<g.length;a++)g[a].addEventListener("click",function(){for(var d=0;d<f.length;d++)f[d].classList.toggle("d-none")})});